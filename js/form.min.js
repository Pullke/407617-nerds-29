const formLink=document.querySelector(".button-contacts"),formPopup=document.querySelector(".modal"),formClose=formPopup.querySelector(".modal-close"),formName=formPopup.querySelector(".name-user"),formForm=formPopup.querySelector(".modal-form"),formEmail=formPopup.querySelector(".email-user");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("form")}catch(o){isStorageSupport=!1}formLink.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.add("modal-show"),storage?(formName.value=storage,formEmail.focus()):formName.focus()}),formClose.addEventListener("click",function(o){o.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error")}),formForm.addEventListener("submit",function(o){formName.value&&formEmail.value?localStorage.setItem("form",formName.value):(o.preventDefault(),formPopup.classList.add("modal-error"),formPopup.offsetWidth=formPopup.offsetWidth,formPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&formPopup.classList.contains("modal-show")&&(o.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error"))});
