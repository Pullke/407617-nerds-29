const slider=document.querySelector(".slider"),formLink=document.querySelector(".button-contacts"),formPopup=document.querySelector(".modal"),formClose=formPopup.querySelector(".modal-close"),formName=formPopup.querySelector(".name-user"),formForm=formPopup.querySelector(".modal-form"),formEmail=formPopup.querySelector(".email-user");if(slider){const e=slider.querySelector(".slide-one"),s=slider.querySelector(".slide-two"),o=slider.querySelector(".slide-three"),r=slider.querySelector(".slider-switch-one"),i=slider.querySelector(".slider-switch-two"),t=slider.querySelector(".slider-switch-three");r.addEventListener("click",function(l){l.preventDefault(),r.classList.add("slider-switch-active"),e.classList.add("slide-visible"),i.classList.remove("slider-switch-active"),s.classList.remove("slide-visible"),t.classList.remove("slider-switch-active"),o.classList.remove("slide-visible")}),i.addEventListener("click",function(l){l.preventDefault(),i.classList.add("slider-switch-active"),s.classList.add("slide-visible"),r.classList.remove("slider-switch-active"),e.classList.remove("slide-visible"),t.classList.remove("slider-switch-active"),o.classList.remove("slide-visible")}),t.addEventListener("click",function(l){l.preventDefault(),t.classList.add("slider-switch-active"),o.classList.add("slide-visible"),r.classList.remove("slider-switch-active"),e.classList.remove("slide-visible"),i.classList.remove("slider-switch-active"),s.classList.remove("slide-visible")})}let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("form")}catch(e){isStorageSupport=!1}formLink.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.add("modal-show"),storage?(formName.value=storage,formEmail.focus()):formName.focus()}),formClose.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error")}),formForm.addEventListener("submit",function(e){formName.value&&formEmail.value?localStorage.setItem("form",formName.value):(e.preventDefault(),formPopup.classList.add("modal-error"),formPopup.offsetWidth=formPopup.offsetWidth,formPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&formPopup.classList.contains("modal-show")&&(e.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error"))});
