const formLink=document.querySelector(".button-contacts"),formPopup=document.querySelector(".modal"),formClose=formPopup.querySelector(".modal-close"),formName=formPopup.querySelector(".name-user"),formForm=formPopup.querySelector(".modal-form"),formEmail=formPopup.querySelector(".email-user");let isStorageSupport=!0,storage="";const slider=document.querySelector(".slider"),slideOne=slider.querySelector(".slide-one"),slideTwo=slider.querySelector(".slide-two"),slideThree=slider.querySelector(".slide-three"),switchOne=slider.querySelector(".slider-switch-one"),switchTwo=slider.querySelector(".slider-switch-two"),switchThree=slider.querySelector(".slider-switch-three");switchOne.addEventListener("click",function(e){e.preventDefault(),switchOne.classList.add("slider-switch-active"),slideOne.classList.add("slide-visible"),switchTwo.classList.remove("slider-switch-active"),slideTwo.classList.remove("slide-visible"),switchThree.classList.remove("slider-switch-active"),slideThree.classList.remove("slide-visible")}),switchTwo.addEventListener("click",function(e){e.preventDefault(),switchTwo.classList.add("slider-switch-active"),slideTwo.classList.add("slide-visible"),switchOne.classList.remove("slider-switch-active"),slideOne.classList.remove("slide-visible"),switchThree.classList.remove("slider-switch-active"),slideThree.classList.remove("slide-visible")}),switchThree.addEventListener("click",function(e){e.preventDefault(),switchThree.classList.add("slider-switch-active"),slideThree.classList.add("slide-visible"),switchOne.classList.remove("slider-switch-active"),slideOne.classList.remove("slide-visible"),switchTwo.classList.remove("slider-switch-active"),slideTwo.classList.remove("slide-visible")});try{storage=localStorage.getItem("form")}catch(e){isStorageSupport=!1}formLink.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.add("modal-show"),storage?(formName.value=storage,formEmail.focus()):formName.focus()}),formClose.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error")}),formForm.addEventListener("submit",function(e){formName.value&&formEmail.value?localStorage.setItem("form",formName.value):(e.preventDefault(),formPopup.classList.add("modal-error"),formPopup.offsetWidth=formPopup.offsetWidth,formPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&formPopup.classList.contains("modal-show")&&(e.preventDefault(),formPopup.classList.remove("modal-show"),formPopup.classList.remove("modal-error"))});
